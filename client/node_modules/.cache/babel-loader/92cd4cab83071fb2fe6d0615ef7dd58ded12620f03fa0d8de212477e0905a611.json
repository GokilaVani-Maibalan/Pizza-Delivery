{"ast":null,"code":"import axios from \"axios\";\nexport const placeOrder = (token, subtotal) => async (dispatch, getState) => {\n  dispatch({\n    type: \"PLACE_ORDER_REQUEST\"\n  });\n  const currentUser = getState().loginUserReducer.currentUser;\n  const cartItems = getState().cartReducer.cartItems;\n  try {\n    const response = await axios.post(\"/api/orders/placeorder\", {\n      token,\n      subtotal,\n      currentUser,\n      cartItems\n    });\n    dispatch({\n      type: \"PLACE_ORDER_SUCCESS\"\n    });\n    console.log(response);\n  } catch (error) {\n    dispatch({\n      type: \"PLACE_ORDER_FAILED\"\n    });\n    console.log(error);\n  }\n};\nexport const getUserOrders = () => async (dispatch, getState) => {\n  const currentUser = getState().loginUserReducer.currentUser;\n  dispatch({\n    type: \"GET_USER_ORDERS_REQUEST\"\n  });\n  try {\n    const response = await axios.post(\"/api/orders/getuserorders\", {\n      userid: currentUser._id\n    });\n    console.log(response);\n    dispatch({\n      type: \"GET_USER_ORDERS_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"GET_USER_ORDERS_FAILED\",\n      payload: error\n    });\n  }\n};\nexport const getAllOrders = () => async (dispatch, getState) => {\n  const currentUser = getState().loginUserReducer.currentUser;\n  dispatch({\n    type: \"GET_ALLORDERS_REQUEST\"\n  });\n  try {\n    const response = await axios.get(\"/api/orders/getallorders\");\n    console.log(response);\n    dispatch({\n      type: \"GET_ALLORDERS_SUCCESS\",\n      payload: response.data\n    });\n  } catch (error) {\n    dispatch({\n      type: \"GET_ALLORDERS_FAILED\",\n      payload: error\n    });\n  }\n};\nexport const deliverOrder = orderid => async dispatch => {\n  try {\n    const response = await axios.post(\"/api/orders/deliverorder\", {\n      orderid\n    });\n    console.log(response);\n    alert(\"Order Delivered\");\n    const orders = await axios.get(\"/api/orders/getallorders\");\n    dispatch({\n      type: \"GET_ALLORDERS_SUCCESS\",\n      payload: orders.data\n    });\n  } catch (error) {\n    console.log(error);\n  }\n};","map":{"version":3,"names":["axios","placeOrder","token","subtotal","dispatch","getState","type","currentUser","loginUserReducer","cartItems","cartReducer","response","post","console","log","error","getUserOrders","userid","_id","payload","data","getAllOrders","get","deliverOrder","orderid","alert","orders"],"sources":["C:/Users/suren/Desktop/Pizza-Delivery/frontend/src/actions/orderActions.js"],"sourcesContent":["import axios from \"axios\";\r\nexport const placeOrder = (token, subtotal) => async (dispatch, getState) => {\r\n  dispatch({ type: \"PLACE_ORDER_REQUEST\" });\r\n  const currentUser = getState().loginUserReducer.currentUser;\r\n  const cartItems = getState().cartReducer.cartItems;\r\n\r\n  try {\r\n    const response = await axios.post(\"/api/orders/placeorder\", {\r\n      token,\r\n      subtotal,\r\n      currentUser,\r\n      cartItems,\r\n    });\r\n    dispatch({ type: \"PLACE_ORDER_SUCCESS\" });\r\n    console.log(response);\r\n  } catch (error) {\r\n    dispatch({ type: \"PLACE_ORDER_FAILED\" });\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nexport const getUserOrders = () => async (dispatch, getState) => {\r\n  const currentUser = getState().loginUserReducer.currentUser;\r\n  dispatch({ type: \"GET_USER_ORDERS_REQUEST\" });\r\n\r\n  try {\r\n    const response = await axios.post(\"/api/orders/getuserorders\", {\r\n      userid: currentUser._id,\r\n    });\r\n\r\n    console.log(response);\r\n\r\n    dispatch({ type: \"GET_USER_ORDERS_SUCCESS\", payload: response.data });\r\n  } catch (error) {\r\n    dispatch({ type: \"GET_USER_ORDERS_FAILED\", payload: error });\r\n  }\r\n};\r\n\r\nexport const getAllOrders = () => async (dispatch, getState) => {\r\n  const currentUser = getState().loginUserReducer.currentUser;\r\n  dispatch({ type: \"GET_ALLORDERS_REQUEST\" });\r\n\r\n  try {\r\n    const response = await axios.get(\"/api/orders/getallorders\");\r\n\r\n    console.log(response);\r\n\r\n    dispatch({ type: \"GET_ALLORDERS_SUCCESS\", payload: response.data });\r\n  } catch (error) {\r\n    dispatch({ type: \"GET_ALLORDERS_FAILED\", payload: error });\r\n  }\r\n};\r\n\r\nexport const deliverOrder = (orderid) => async (dispatch) => {\r\n  try {\r\n    const response = await axios.post(\"/api/orders/deliverorder\", { orderid });\r\n    console.log(response);\r\n    alert(\"Order Delivered\");\r\n    const orders = await axios.get(\"/api/orders/getallorders\");\r\n    dispatch({ type: \"GET_ALLORDERS_SUCCESS\", payload: orders.data });\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}